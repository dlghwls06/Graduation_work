const input = `
6. ** " ê³„ì•½ ë§Œê¸° ì „ ì„ì°¨ì¸ì´ í‡´ì‹¤ ì‹œ ìƒˆë¡œìš´ ì„ì°¨ì¸ì„ êµ¬í•˜ê³  í‡´ì‹¤í•œë‹¤ (ì´ë•Œ ê´€ë¦¬ë¹„ì™€ ì¤‘ê°œìˆ˜ìˆ˜ë£Œë¥¼ ë¶€ë‹´í•œë‹¤) " **
- ì´ìœ : ì´ ì¡°í•­ì€ ì„ì°¨ì¸ì´ ê³„ì•½ ê¸°ê°„ ë‚´ì— ë‚˜ê°€ê²Œ ë  ê²½ìš°, ìƒˆë¡œìš´ ì„ì°¨ì¸ ëª¨ì§‘ê³¼ ê´€ë ¨ëœ ë¹„ìš©ê¹Œì§€ ëª¨ë‘ ë¶€ë‹´í•˜ê²Œ ë˜ì–´ ìˆì–´ ì„ì°¨ì¸ì—ê²Œ ê³¼ë„í•œ ê²½ì œì  ë¶€ë‹´ì„ ì§€ìš°ê³  ìˆìŠµë‹ˆë‹¤.
- ì¶”ì²œ ë¬¸ì¥ 1: "ê³„ì•½ ë§Œê¸° ì „ì— ì„ì°¨ì¸ì´ í‡´ì‹¤í•  ê²½ìš°, ì–‘ ë‹¹ì‚¬ìëŠ” ìƒí˜¸ í˜‘ì˜í•˜ì—¬ ìƒˆë¡œìš´ ì„ì°¨ì¸ì„ ì°¾ë„ë¡ ë…¸ë ¥í•˜ë©°, ì´ì— ë”°ë¥¸ ì¤‘ê°œ ìˆ˜ìˆ˜ë£ŒëŠ” ì–‘ì¸¡ì´ í•©ì˜í•œ ë¹„ìœ¨ì— ë”°ë¼ ë¶„ë‹´í•œë‹¤."
- ì¶”ì²œ ë¬¸ì¥ 2: "ì„ì°¨ì¸ì´ ê³„ì•½ ë§Œê¸° ì „ í‡´ì‹¤ì„ ì›í•˜ëŠ” ê²½ìš°, ìƒˆë¡œìš´ ì„ì°¨ì¸ì„ êµ¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ ë° ê¸°íƒ€ ë¹„ìš©ì€ ì„ëŒ€ì¸ê³¼ ì„ì°¨ì¸ì´ ë™ë“±í•˜ê²Œ ë¶€ë‹´í•œë‹¤."
- ì¶”ì²œ ë¬¸ì¥ 3: "ì„ì°¨ì¸ì´ ê³„ì•½ ë§Œê¸° ì´ì „ì— í‡´ì‹¤í•˜ê³ ì í•  ë•Œ, ìƒˆë¡œìš´ ì„ì°¨ì¸ ëª¨ì§‘ì˜ ì±…ì„ì€ ì„ëŒ€ì¸ê³¼ ì„ì°¨ì¸ì´ ê³µë™ìœ¼ë¡œ í•˜ë©°, ê´€ë ¨ ë¹„ìš© ë˜í•œ ê³µì •í•˜ê²Œ ë‚˜ëˆ„ì–´ì„œ ë¶€ë‹´í•œë‹¤."

7. "ì„ì°¨ì¸ì€ ì”ê¸ˆ ì§€ê¸‰ í›„ ì…ì£¼í•˜ê¸°ë¡œ í•œë‹¤."
- ì´ìœ : í•´ë‹¹ ì¡°í•­ì€ ê´€í–‰ì ì¸ ì¡°ê±´ìœ¼ë¡œ ìœ„í—˜í•˜ì§€ ì•ŠìŒ.
- ì¶”ì²œ ë¬¸ì¥ 1: "..."
- ì¶”ì²œ ë¬¸ì¥ 2: "..."
- ì¶”ì²œ ë¬¸ì¥ 3: "..."
`;

// âœ… ë²”ìš© ì •ê·œí‘œí˜„ì‹: **ë¬¸ì¥**, "ë¬¸ì¥", ê·¸ëƒ¥ ë¬¸ì¥ ëª¨ë‘ ì§€ì›
const regex =
  /(\d+)\.\s*(?:\*\*\s*"?(.+?)"?\s*\*\*|"(.+?)"|(.+?))\s*\n\s*- ì´ìœ :\s*(.*?)(\n\s*- ì¶”ì²œ ë¬¸ì¥ 1:.*?)?(?=\n\d+\.|\n?$)/gs;

const recommendRegex =
  /- ì¶”ì²œ ë¬¸ì¥ 1:\s*(.*?)\n\s*- ì¶”ì²œ ë¬¸ì¥ 2:\s*(.*?)\n\s*- ì¶”ì²œ ë¬¸ì¥ 3:\s*(.*?)(?:\n|$)/s;

const matches = [...input.matchAll(regex)];

console.log("âœ… ì¶”ì¶œëœ ìœ„í—˜ ë¬¸ì¥ ê°œìˆ˜:", matches.length);

matches.forEach((match, i) => {
  const sentence = (match[2] || match[3] || match[4] || "").trim();
  const explanation = match[5].trim();
  const restBlock = match[6] || "";

  const lowerExp = explanation.toLowerCase();
  if (
    lowerExp.includes("ì¼ë°˜ì ì¸") ||
    lowerExp.includes("ê´€í–‰") ||
    lowerExp.includes("í•´ë‹¹ ë‚´ìš©ì„ ì–¸ê¸‰í•˜ì§€") ||
    lowerExp.includes("ìœ„í—˜ ì¡°í•­ì´ ì•„ë‹™ë‹ˆë‹¤") ||
    lowerExp.includes("ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤")
  ) {
    console.log(`ğŸš« [${i + 1}] ìœ„í—˜ ì•„ë‹˜:`, sentence);
    return;
  }

  console.log(`\n[${i + 1}]`, sentence);
  console.log("ğŸ“Œ ì´ìœ :", explanation);

  const recMatch = restBlock.match(recommendRegex);
  if (recMatch) {
    console.log("âœ… ì¶”ì²œ ë¬¸ì¥ 1:", recMatch[1]);
    console.log("âœ… ì¶”ì²œ ë¬¸ì¥ 2:", recMatch[2]);
    console.log("âœ… ì¶”ì²œ ë¬¸ì¥ 3:", recMatch[3]);
  } else {
    console.warn("âŒ ì¶”ì²œ ë¬¸ì¥ íŒŒì‹± ì‹¤íŒ¨:", restBlock);
  }
});
